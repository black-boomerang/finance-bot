# Документация

Точкой входа в приложение является файл ['bot_worker.py']('./bot/bot_worker.py'). В нём происходит создание бота,
а также создание обработчиков. В процессе работы бот постоянно опрашвает сервер Telegram на наличие действий
пользователей, и если пользователь что-то сделал, вызывает соответствующий обработчик.

Класс бота является наследником telebot.TeleBot (см. https://pypi.org/project/pyTelegramBotAPI/). При его
инициализации происходит создание анализатора, а также потока, отвечающего за рассылку рекомендаций.
Для создания такого потока используется класс ScheduleThread (см. [schedule_thread.py](./schedule_thread.py)), который
вызывает переданную функцию согласно расписанию.

На данный момент анализатор (см. [finance_analyzer.py](./analyzer/finance_analyzer.py) составляет рейтинг акций
следующим образом. На первом этапе в функции _get_new_ranking выполняется ранжирование компаний на основе их финансовых
показателей (P/E и ROE). На втором этапе отбираются n лучших акций, для каждой из которых запрашиваются прогнозы их
стоимости с сайта [finance.yahoo.com](https://finance.yahoo.com) (функция _get_quote_estimation). На основе этих
прогнозов составляется рейтинг и определяются лучшие акции по версии анализатора.
